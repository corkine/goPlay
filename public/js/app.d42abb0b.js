(function(e){function a(a){for(var s,c,r=a[0],i=a[1],d=a[2],f=0,u=[];f<r.length;f++)c=r[f],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&u.push(n[c][0]),n[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);l&&l(a);while(u.length)u.shift()();return o.push.apply(o,d||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],s=!0,r=1;r<t.length;r++){var i=t[r];0!==n[i]&&(s=!1)}s&&(o.splice(a--,1),e=c(c.s=t[0]))}return e}var s={},n={app:0},o=[];function c(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=s,c.d=function(e,a,t){c.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,a){if(1&a&&(e=c(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)c.d(t,s,function(a){return e[a]}.bind(null,s));return t},c.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(a,"a",a),a},c.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=a,r=r.slice();for(var d=0;d<r.length;d++)a(r[d]);var l=i;o.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";var s=t("85ec"),n=t.n(s);n.a},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var s=t("2b0e"),n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-layout",{attrs:{id:"components-layout-demo-fixed"}},[t("a-layout-header",{style:{position:"fixed",zIndex:1,width:"100%",zIndex:"1000"}},[t("div",{staticClass:"logo"},[t("a-icon",{staticStyle:{"font-size":"40px",color:"white",opacity:"0.3"},attrs:{type:"thunderbolt",theme:"filled"}}),t("p",{attrs:{id:"header"}},[e._v("快 链")])],1),t("a-menu",{style:{lineHeight:"64px"},attrs:{theme:"dark",mode:"horizontal","default-selected-keys":["1"]}},[t("a-menu-item",{key:"1"},[t("a",{attrs:{href:"/manage"}},[e._v("主页")])]),t("a-menu-item",{key:"2"},[t("a",{attrs:{href:"/"}},[e._v("项目")])]),t("a-menu-item",{key:"3"},[t("a-button",{attrs:{type:"white",icon:"key",ghost:""},on:{click:e.showModal}},[e._v(e._s(e.tokenWord)+" ")])],1)],1)],1),t("a-layout-content",{style:{padding:"0 50px",paddingTop:"100px",backgroundColor:"white"}},[t("div",{staticStyle:{"background-color":"white"}},[t("a-row",[t("a-col",{attrs:{span:16,xs:24,sm:24,md:16,lg:16,xl:14,xxl:10}},[t("a-page-header",{staticStyle:{"margin-left":"-19px"},attrs:{title:"添加短链接","sub-title":"输入原始网址和关键字以添加短链接"}}),t("a-input",{attrs:{placeholder:"原始的链接地址，可不加 http(s)",size:"large"},model:{value:e.addFrom,callback:function(a){e.addFrom=a},expression:"addFrom"}},[t("a-icon",{attrs:{slot:"prefix",type:"global"},slot:"prefix"})],1),t("a-input",{staticStyle:{"margin-top":"15px"},attrs:{size:"large","addon-before":"http://go.mazhangjing.com/",placeholder:"简短容易记忆的单词"},model:{value:e.addKey,callback:function(a){e.addKey=a},expression:"addKey"}}),t("a-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",size:"large",block:""},on:{click:e.addToDatabase}},[e._v(" 添加到数据库 ")]),t("a-divider",{attrs:{dashed:""}})],1)],1),t("a-row",[t("a-col",{attrs:{span:16,xs:24,sm:24,md:16,lg:16,xl:14,xxl:10}},[t("a-page-header",{staticStyle:{"margin-left":"-19px"},attrs:{title:"查询短链接","sub-title":"输入需要查询的关键字以查询短链接"}}),t("a-input",{attrs:{size:"large","addon-before":"输入需要查询的关键字",placeholder:"like home"},model:{value:e.checkFrom,callback:function(a){e.checkFrom=a},expression:"checkFrom"}}),t("a-input",{staticStyle:{"margin-top":"15px"},attrs:{placeholder:"未匹配到结果",size:"large"},model:{value:e.checkResult,callback:function(a){e.checkResult=a},expression:"checkResult"}},[t("a-icon",{attrs:{slot:"prefix",type:"global"},slot:"prefix"})],1),t("a-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",size:"large",block:"",ghost:""},on:{click:e.checkDatabase}},[e._v(" 查询数据库 ")]),t("a-divider",{attrs:{dashed:""}})],1)],1),t("a-row",[t("a-col",{attrs:{span:16,xs:24,sm:24,md:16,lg:16,xl:14,xxl:10}},[t("a-page-header",{staticStyle:{"margin-left":"-19px"},attrs:{title:"删除短链接","sub-title":"输入需要删除的关键字以删除短链接"}}),t("a-input",{staticStyle:{"margin-top":"15px"},attrs:{size:"large","addon-before":"http://go.mazhangjing.com/",placeholder:"需删除的关键字"},model:{value:e.deleteKey,callback:function(a){e.deleteKey=a},expression:"deleteKey"}}),t("a-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"danger",size:"large",block:"",ghost:""},on:{click:e.deleteEntity}},[e._v(" 从数据库删除 ")])],1)],1),t("a-modal",{attrs:{title:"登录服务器",visible:e.visible,"confirm-loading":e.confirmLoading,okText:"获取 Token",cancelText:"取消登录"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-input",{attrs:{placeholder:"用户名",size:"default"},model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}},[t("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1),t("a-input-password",{staticStyle:{"margin-top":"7px"},attrs:{size:"default",placeholder:"密码"},model:{value:e.passWord,callback:function(a){e.passWord=a},expression:"passWord"}},[t("a-icon",{attrs:{slot:"prefix",type:"key"},slot:"prefix"})],1)],1),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")],1)]),t("a-layout-footer",{style:{textAlign:"center"}},[e._v(" ©️ Marvin Studio 2016-2020 | Create by "),t("a",{attrs:{id:"name",href:"http://www.mazhangjing.com"}},[e._v("Corkine Ma")]),e._v(" |"),t("a-button",{attrs:{type:"link"},on:{click:e.showVersion}},[e._v("v"+e._s(e.version)+" 更新记录")])],1)],1)},o=[],c=t("a149"),r=t("5976"),i=t.n(r),d={name:"App",components:{},mounted:function(){var e=this,a=localStorage.getItem("token");null!==a&&i.a.get(this.tokenURL,{params:{token:a}}).then((function(){e.isSavedToken=!0,e.token=a})).catch((function(){e.token="",localStorage.removeItem("token")}))},data:function(){return{version:"1.1.0",logs:{"1.0.0":"2020年08月24日，提供了查询、添加和删除短链接的 API","1.1.0":"2020年08月24日，提供了 Token 的本地存储和自动加载和验证机制"},basicURL:"",tokenURL:"/token",addURL:"/add",checkURL:"/check/",deleteURL:"/deleteKey/",userName:"",passWord:"",visible:!1,confirmLoading:!1,token:"",isSavedToken:!1,addFrom:"",addKey:"",checkFrom:"",checkResult:"",deleteKey:""}},computed:{tokenWord:function(){return""===this.token?"获取 Token":this.isSavedToken?"已验证 Token":"已获取 Token"}},methods:{showVersion:function(){c["a"].info({message:"当前版本 "+this.version,description:this.logs[this.version],duration:10})},showModal:function(){this.visible=!0,this.userName="",this.passWord=""},handleOk:function(){var e=this;console.log(this.userName,this.passWord),this.confirmLoading=!0,this.userName&&this.passWord?i.a.get(this.tokenURL,{params:{user:this.userName,password:this.passWord}}).then((function(a){console.log(a),200===a.status&&1===a.data.status&&c["a"].success({message:"成功获取 Token",description:"Token 已保存，可直接使用服务。",duration:5}),e.saveToken(a.data.token)})).catch((function(e){console.log(e),c["a"].warn({message:"Token 获取失败",description:"用户名和密码校验错误，请重试",duration:5})})):c["a"].warn({message:"请输入用户名和密码以完成鉴权"}),this.confirmLoading=!1,this.visible=!1},handleCancel:function(){this.visible=!1},checkToken:function(){return""!==this.token},saveToken:function(e){this.token=e,this.isSavedToken=!1,localStorage.setItem("token",e)},addToDatabase:function(){console.log("Add Entity: ",this.addFrom,this.addKey),this.checkToken()&&this.addFrom&&this.addKey?i.a.get(this.addURL,{params:{keyword:this.addKey,redirectURL:this.addFrom,note:"Add by 快链 in AJAX - VUE",token:this.token}}).then((function(e){console.log(e),200===e.status&&(0===e.data.status?c["a"].warn({message:"插入数据失败",description:e.data.message}):1===e.data.status&&c["a"].success({message:"插入数据成功",description:e.data.message}))})).catch((function(e){console.log("ERROR",e),c["a"].warn({message:"插入时发生预期之外的错误",description:"详情请参见控制台"})})):c["a"].warn({message:"请获取 Token、并提供希望插入的链接以及其关键词再试"})},checkDatabase:function(){var e=this;console.log("Checking ",this.checkFrom),this.checkToken()&&this.checkFrom?i.a.get(this.checkURL+this.checkFrom,{params:{token:this.token}}).then((function(a){console.log("Check Res",a),200===a.status&&(1===a.data.status?e.checkResult=a.data.entity.redirectURL:(e.checkResult="",c["a"].info({message:"未找到匹配记录。"})))})).catch((function(e){console.log("Check Error",e),c["a"].warn({message:"出现未预期的错误，请前往控制台查看"})})):c["a"].warn({message:"请获取 Token，并且提供需要查询的关键字"})},deleteEntity:function(){this.checkToken()&&this.deleteKey?i.a.get(this.deleteURL+this.deleteKey,{params:{token:this.token}}).then((function(e){console.log("DELETE RES",e),200===e.status&&(0===e.data.status?c["a"].info({message:"未在数据库找到此条数据，可能已经删除。"}):1===e.data.status&&c["a"].success({message:"已经成功将记录从数据库删除。"}))})).catch((function(e){console.log("DELETE ERR",e),c["a"].warn({message:"发生了未预期的错误，参见控制台"})})):c["a"].warn({message:"请获取 Token、输入需要删除的短链接以继续操作。",description:"删除记录需要 Admin 权限，请确保 Token 具备此权限"})}}},l=d,f=(t("034f"),t("2877")),u=Object(f["a"])(l,n,o,!1,null,null,null),h=u.exports,b=(t("50c7"),t("8e31")),p=t("fe4c"),m=t("a192"),j=t("8ba3"),k=t("896e"),g=t("a3a3"),y=t("c303"),v=t("f3fe"),x=t("8ebf"),w=t("47de"),z=t("35d7");s["a"].config.productionTip=!1,s["a"].use(b["a"]),s["a"].use(p["a"]),s["a"].use(m["a"]),s["a"].use(j["a"]),s["a"].use(k["a"]),s["a"].use(g["a"]),s["a"].use(y["a"]),s["a"].use(v["a"]),s["a"].use(x["a"]),s["a"].use(w["a"]),s["a"].use(z["a"]),c["a"].config({top:"77px",placement:"topRight",duration:5.5}),new s["a"]({render:function(e){return e(h)}}).$mount("#app")},"5b5c":function(e,a,t){var s={"./af":"0154","./af.js":"0154","./ar":"a16b","./ar-dz":"a1aa","./ar-dz.js":"a1aa","./ar-kw":"c6c3","./ar-kw.js":"c6c3","./ar-ly":"85f7","./ar-ly.js":"85f7","./ar-ma":"f589","./ar-ma.js":"f589","./ar-sa":"0ef8","./ar-sa.js":"0ef8","./ar-tn":"c3a3","./ar-tn.js":"c3a3","./ar.js":"a16b","./az":"1bfa","./az.js":"1bfa","./be":"f5be","./be.js":"f5be","./bg":"f934","./bg.js":"f934","./bm":"56bb","./bm.js":"56bb","./bn":"70cf","./bn.js":"70cf","./bo":"0074","./bo.js":"0074","./br":"22a4","./br.js":"22a4","./bs":"9ad2","./bs.js":"9ad2","./ca":"6c31","./ca.js":"6c31","./cs":"abba","./cs.js":"abba","./cv":"7b52","./cv.js":"7b52","./cy":"5f2f","./cy.js":"5f2f","./da":"0f6d","./da.js":"0f6d","./de":"dac6","./de-at":"23f3","./de-at.js":"23f3","./de-ch":"bb77","./de-ch.js":"bb77","./de.js":"dac6","./dv":"fdb0","./dv.js":"fdb0","./el":"343c","./el.js":"343c","./en-au":"54e8","./en-au.js":"54e8","./en-ca":"bee6","./en-ca.js":"bee6","./en-gb":"b53c","./en-gb.js":"b53c","./en-ie":"691d","./en-ie.js":"691d","./en-il":"24f7","./en-il.js":"24f7","./en-in":"8393","./en-in.js":"8393","./en-nz":"64cd","./en-nz.js":"64cd","./en-sg":"8a05","./en-sg.js":"8a05","./eo":"046d","./eo.js":"046d","./es":"7694","./es-do":"b81d","./es-do.js":"b81d","./es-us":"8b63","./es-us.js":"8b63","./es.js":"7694","./et":"1856","./et.js":"1856","./eu":"0ccc","./eu.js":"0ccc","./fa":"7d80","./fa.js":"7d80","./fi":"cc1c","./fi.js":"cc1c","./fil":"8107","./fil.js":"8107","./fo":"5927","./fo.js":"5927","./fr":"0071","./fr-ca":"dfd2","./fr-ca.js":"dfd2","./fr-ch":"34f3","./fr-ch.js":"34f3","./fr.js":"0071","./fy":"94ed","./fy.js":"94ed","./ga":"f82e","./ga.js":"f82e","./gd":"c61e","./gd.js":"c61e","./gl":"9124","./gl.js":"9124","./gom-deva":"ec6e","./gom-deva.js":"ec6e","./gom-latn":"c225","./gom-latn.js":"c225","./gu":"8a84","./gu.js":"8a84","./he":"f94d","./he.js":"f94d","./hi":"44ab","./hi.js":"44ab","./hr":"ec4c","./hr.js":"ec4c","./hu":"021a","./hu.js":"021a","./hy-am":"61f8","./hy-am.js":"61f8","./id":"f91e","./id.js":"f91e","./is":"dd50","./is.js":"dd50","./it":"a409","./it-ch":"333c","./it-ch.js":"333c","./it.js":"a409","./ja":"0918","./ja.js":"0918","./jv":"91ca","./jv.js":"91ca","./ka":"01c5","./ka.js":"01c5","./kk":"222d","./kk.js":"222d","./km":"967d","./km.js":"967d","./kn":"f31e","./kn.js":"f31e","./ko":"84dd","./ko.js":"84dd","./ku":"3bb0","./ku.js":"3bb0","./ky":"6b69","./ky.js":"6b69","./lb":"ae2f","./lb.js":"ae2f","./lo":"9ad28","./lo.js":"9ad28","./lt":"7ae9","./lt.js":"7ae9","./lv":"ee48","./lv.js":"ee48","./me":"72bc","./me.js":"72bc","./mi":"e072","./mi.js":"e072","./mk":"1c3c","./mk.js":"1c3c","./ml":"bd5a","./ml.js":"bd5a","./mn":"9459","./mn.js":"9459","./mr":"9559","./mr.js":"9559","./ms":"3ccb","./ms-my":"7670","./ms-my.js":"7670","./ms.js":"3ccb","./mt":"f2a4","./mt.js":"f2a4","./my":"0f9b","./my.js":"0f9b","./nb":"d231","./nb.js":"d231","./ne":"8388","./ne.js":"8388","./nl":"1f79","./nl-be":"51eb","./nl-be.js":"51eb","./nl.js":"1f79","./nn":"4ebd","./nn.js":"4ebd","./oc-lnc":"8adc","./oc-lnc.js":"8adc","./pa-in":"7b6a","./pa-in.js":"7b6a","./pl":"55f6","./pl.js":"55f6","./pt":"b479","./pt-br":"1105","./pt-br.js":"1105","./pt.js":"b479","./ro":"cdf1","./ro.js":"cdf1","./ru":"f5c8","./ru.js":"f5c8","./sd":"ad40","./sd.js":"ad40","./se":"5f63","./se.js":"5f63","./si":"68d8","./si.js":"68d8","./sk":"4af9","./sk.js":"4af9","./sl":"ffbe","./sl.js":"ffbe","./sq":"f55a","./sq.js":"f55a","./sr":"cf4a","./sr-cyrl":"926e","./sr-cyrl.js":"926e","./sr.js":"cf4a","./ss":"afa0","./ss.js":"afa0","./sv":"32ec","./sv.js":"32ec","./sw":"f832","./sw.js":"f832","./ta":"50b9","./ta.js":"50b9","./te":"558e","./te.js":"558e","./tet":"e75b","./tet.js":"e75b","./tg":"b98b","./tg.js":"b98b","./th":"37b4","./th.js":"37b4","./tk":"7907","./tk.js":"7907","./tl-ph":"55bd","./tl-ph.js":"55bd","./tlh":"692f","./tlh.js":"692f","./tr":"0ced","./tr.js":"0ced","./tzl":"afa0f","./tzl.js":"afa0f","./tzm":"b817","./tzm-latn":"53be","./tzm-latn.js":"53be","./tzm.js":"b817","./ug-cn":"d62a","./ug-cn.js":"d62a","./uk":"2ac1","./uk.js":"2ac1","./ur":"3aea","./ur.js":"3aea","./uz":"4b7a","./uz-latn":"936f","./uz-latn.js":"936f","./uz.js":"4b7a","./vi":"8c25","./vi.js":"8c25","./x-pseudo":"e1ad","./x-pseudo.js":"e1ad","./yo":"0a91","./yo.js":"0a91","./zh-cn":"d2a5","./zh-cn.js":"d2a5","./zh-hk":"db73","./zh-hk.js":"db73","./zh-mo":"28fe","./zh-mo.js":"28fe","./zh-tw":"32e9","./zh-tw.js":"32e9"};function n(e){var a=o(e);return t(a)}function o(e){if(!t.o(s,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id="5b5c"},"85ec":function(e,a,t){}});
//# sourceMappingURL=app.d42abb0b.js.map